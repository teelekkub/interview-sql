
# SQL Interview

กรุณา Fork repo และตอบคำถามข้างล่าง และส่ง URL กลับมาทาง

** ใช้ MySQL หรือ MariaDB เท่านั้น
** หากข้อไหนทำไม่ได้ สามารถเข้ามไปทำข้ออื่นได้


## Q&A

1. “SELECT * FROM product WHERE category_id = 1 AND active_status = TRUE ORDER BY created_timestamp DESC LIMIT 20 , 100” หมายความว่าอะไร

2. จงยกตัวอย่างการ INSERT ข้อมูล กรณีที่มีข้อมูลที่เป็น primary key ซ้ำกัน

3. จงยกตัวอย่างการ INSERT ข้อมูล กรณีที่มีข้อมูล 100,000 row

4. จงยกตัวอย่างการ UPDATE ข้อมูล กรณีที่มีข้อมูล 3000 row และมี primary ที่แตกต่างกันทุก row

5. Index คืออะไร และยกตัวอย่างวิธีการใช้งาน โดยมีตารางมี field ดังนี้ id, name, address, phone, email, active_status, created_timestamp, updated_timestamp

6. จากข้อ 5 ถ้าต้องการค้นหาข้อมูล id , name , phone , email โดยที่ active_status = FALSE ควรจะต้องทำ index เช่นใด

7. จากข้อ 5 ถ้าต้องการค้นหา id = 6 ควรทำ index เช่นใด

8. Trigger คืออะไร และยกตัวอย่าง




## Example

### Customers

| id | name |
|----|------|
| 1  | John |
| 2  | Jame |
| 3  | JoJo |

### Orders

| customer_id | order_id | item         | price | sold_at             |
|-------------|----------|--------------|-------|---------------------|
| 1           | 1        | Samsung      | 1000  | 2020-02-26 06:56:22 |
| 1           | 1        | Huawei       | 800   | 2020-02-26 06:56:22 |
| 1           | 2        | iPhone       | 1200  | 2020-02-28 06:56:22 |
| 2           | 3        | Samsung      | 1000  | 2020-02-10 06:56:22 |
| 2           | 4        | iPhone       | 1200  | 2020-02-20 06:56:22 |
| 3           | 5        | Case Samsung | 100   | 2020-02-05 06:56:22 |
| 3           | 5        | Samsung      | 1000  | 2020-02-05 06:56:22 |

### จงทำตามคำสั่งข้างล่างนี้


1. ทำการสร้าง Key, Index ให้เหมาะสม (ส่งผลลัพท์เป็น SQL)

2. ต้องการ Query ให้ได้ผลลัพท์ดังตารางข้างล่างนี้โดยใช้คำสั่ง SQL เพียงอย่างเดียว
* ratio คือสัดส่วนของยอดซื้อของลูกค้า 1 คน หารด้วยยอดซื้อทั้งหมดของตาราง orders

| id | name | total_order | total_item | total_price | ratio               |
|----|------|-------------|------------|-------------|---------------------|
| 1  | John | 2           | 3          | 3000        | 0.47619047619047616 |
| 2  | Jame | 2           | 2          | 2200        | 0.3492063492063492  |
| 3  | JoJo | 1           | 2          | 1100        | 0.1746031746031746  |

